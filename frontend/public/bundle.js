!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(()=>(()=>{"use strict";var e=[];let t;function n(){const e=document.getElementById("volume-control"),n=(o=Number(e.value),Math.round(200*Math.pow(o/100,2)));var o;t.setVolume(n),console.log("vol: "+n)}function o(){const e=document.getElementById("sources"),t=document.createElement("input");t.classList.add("source"),t.placeholder="link",null==e||e.appendChild(t)}function d(){var e;const t=null===(e=document.getElementById("sources"))||void 0===e?void 0:e.children,n=[];if(null!=t){for(const e of t)n.push(e.value.split("?")[0]);fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/load",{method:"POST",body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{l(e.id)}))}}function l(t){setTimeout((()=>{fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/status/"+t).then((e=>e.json())).then((n=>{n.status?function(t){fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/fetch/"+t).then((e=>e.json())).then((t=>{for(let n=0;n<t.length;n++)e.push(t[n]);c()}))}(t):l(t)}))}),1e3)}function c(){if(0==e.length)return;const n=e.pop();t.load("https://api.soundcloud.com/tracks/"+n,{auto_play:!0}),t.play()}return document.addEventListener("DOMContentLoaded",(()=>{var e,l,i;null===(e=document.getElementById("add"))||void 0===e||e.addEventListener("click",o),null===(l=document.getElementById("load"))||void 0===l||l.addEventListener("click",d),null===(i=document.getElementById("next"))||void 0===i||i.addEventListener("click",c),document.getElementById("volume-control").addEventListener("input",(e=>{n()}));const u=document.getElementById("embed");null!=u&&(t=window.SC.Widget(u),t.bind("finish",c),t.bind("play",n))})),{}})()));