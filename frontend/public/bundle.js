!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(()=>(()=>{"use strict";let e,t=[],n=-1;function o(){var o;o=t[n],fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/track/"+o,{method:"POST"}).then((e=>e.json())).then((t=>{var n,o;n=t.waveform,o=t.duration,fetch(n).then((e=>e.json())).then((t=>{let n=parseFloat(o)/1800,l=0,d=t.samples;for(let e=0;e<d.length&&0==d[e];e++,l++);if(0==l)return;let i=Math.floor(n*(l-1));e.seekTo(i)}))})),l(),e.play()}function l(){const t=document.getElementById("volume-control"),n=(o=Number(t.value),Math.round(200*Math.pow(o/100,2)));var o;e.setVolume(n)}function d(){const e=document.getElementById("sources"),t=document.createElement("input");t.classList.add("source"),t.placeholder="link",null==e||e.appendChild(t)}function i(){var e;const t=null===(e=document.getElementById("sources"))||void 0===e?void 0:e.children,n=[];if(null!=t){for(const e of t)n.push(e.value.split("?")[0]);fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/load",{method:"POST",body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{s(e.id)}))}}function s(e){setTimeout((()=>{fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/status/"+e).then((e=>e.json())).then((n=>{n.status?function(e){fetch("https://soundcloud-playlist-randomizer.hawolt.com/api/fetch/"+e).then((e=>e.json())).then((e=>{for(let n=0;n<e.length;n++)t.push(e[n]);c()}))}(e):s(e)}))}),1e3)}function c(){let l=0==t.length?null:(n=(n+1)%t.length,t[n]);null!=l&&(e.load("https://api.soundcloud.com/tracks/"+l),e.bind("ready",o),o())}return document.addEventListener("DOMContentLoaded",(()=>{var t,n,s;null===(t=document.getElementById("add"))||void 0===t||t.addEventListener("click",d),null===(n=document.getElementById("load"))||void 0===n||n.addEventListener("click",i),null===(s=document.getElementById("next"))||void 0===s||s.addEventListener("click",c),document.getElementById("volume-control").addEventListener("input",(e=>{l()}));const u=document.getElementById("embed");null!=u&&(e=window.SC.Widget(u),e.bind("ready",o),e.bind("finish",c),e.bind("play",l))})),{}})()));